if(typeof JRJ=="undefined"||!JRJ)var JRJ={};if(typeof JRJ.ui=="undefined"||!JRJ.ui)JRJ.ui={};
(function(d){JRJ.ui.TabSwitch=function(a){this.args={menuPre:"",conPre:"",total:null,eventType:"mouseover",currTab:1,onClass:"",offClass:"",hoverClass:"",onSwitch:null,autoplay:false,speed:2000};for(property in a)this.args[property]=a[property];this.menuIdPre=this.args.menuPre;this.conIdPre=this.args.conPre;this.eventType=this.args.eventType;this.onClass=this.args.onClass;this.offClass=this.args.offClass;this.hoverClass=this.args.hoverClass;this.currTab=this.args.currTab;this.total=this.args.total;
this.onSwitch=this.args.onSwitch;this.autoplay=this.args.autoplay;this.speed=this.args.speed;this.current=2;for(a=1;a<=this.total;a++)this.addTab(a,this.onSwitch);this.args.autoplay&&this.auto()};JRJ.ui.TabSwitch.prototype={addTab:function(a,c){var b=this,e=d("#"+b.menuIdPre+a);b.installEvent(e[0],b.eventType,b.bind(b,b.show,[a,c]));if(b.eventType=="click"&&b.hoverClass!=""){e.mouseenter(function(){d(this).addClass(b.hoverClass)});e.mouseleave(function(){d(this).removeClass(b.hoverClass)})}b.autoplay&&
e.mouseenter(function(){if(b.eventType=="click")e.click(function(){b.current=a+1});else b.current=a+1;clearInterval(b.timer)}).mouseleave(function(){b.auto()})},show:function(a,c){if(this.currTab!=a){var b=d("#"+this.menuIdPre+this.currTab);b.removeClass(this.onClass);b.addClass(this.offClass);b=d("#"+this.menuIdPre+a);b.removeClass(this.offClass);b.addClass(this.onClass);d("#"+this.conIdPre+this.currTab).hide();d("#"+this.conIdPre+a).show();this.currTab=a;c&&c.fcn&&c.fcn.apply(c.fcn,c.args)}},bind:function(a,
c,b){return function(){c.apply(a,b)}},installEvent:function(a,c,b){if(a.attachEvent)a.attachEvent("on"+c,function(e){b(e)});else a.addEventListener&&a.addEventListener(c,b,false)},auto:function(){var a=this;this.timer=setInterval(function(){if(a.current<=a.total)var c=d("#"+a.menuIdPre+a.current);else{a.current=1;c=d("#"+a.menuIdPre+a.current)}c.siblings().removeClass(a.hoverClass);c.addClass(a.hoverClass);a.show(a.current,a.onSwitch);a.current++},this.speed)}}})(jQuery);
